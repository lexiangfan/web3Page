# 添加新页面指南

## 快速开始

按照以下步骤添加新页面：
## 1. 创建内容文件
   在 src/utils/ 目录下创建新的内容文件，例如 page3.js：
   // src/utils/page3.js
   export const page3 = [
   {
   id: 'chapter1',
   title: '新章节标题',
   content: '',
   children: [
   {
   id: 'section1-1',
   title: '1.1 小节标题',
   content: `
   <p>这里是内容段落</p>
   <h4>小标题：</h4>
   <ul>
   <li><strong>要点一：</strong>详细说明</li>
   <li><strong>要点二：</strong>详细说明</li>
   </ul>
   `
   }
   ]
   }
   ];

export default page3;
## 2. 创建对应的页面组件
   在 src/views/ 目录下创建新的页面组件，例如 page3.vue：
<!-- src/views/page3.vue -->
<template>
  <ContentPageTemplate :content-data="pageContents" />
</template>

<script>
// import pageContents from '@/utils/page3.js'
import ContentPageTemplate from '@/components/ContentPageTemplate.vue'

export default {
  name: 'page3',
  components: {
    ContentPageTemplate
  },
  setup() {
    return {
      pageContents
    }
  }
}
</script>

<style scoped>
</style>

## 3. 添加路由配置
   在 src/router/router.js 中添加新页面的路由：
   // src/router/router.js
   import {createRouter, createWebHashHistory} from "vue-router"
   import Home from '@/views/Home.vue'
   import page from "@/views/page.vue";
   import page1 from "@/views/page1.vue";
   import page2 from "@/views/page2.vue";
   import page3 from "@/views/page3.vue"; // 添加这行
   import About from "@/views/About.vue";

const routes = [
{
path: '/',
name: 'Home',
component: Home,
meta: {
title: 'Web3 入门必看'
}
},
{
path:'/page',
name:'page',
component: page,
meta: {
title: 'Web3 内容第一章'
}
},
{
path:'/page1',
name:'page1',
component: page1,
meta: {
title: '内容第二章'
}
},
{
path:'/page2',
name:'page2',
component: page2,
meta: {
title: '内容第三章'
}
},
{
path:'/page3',
name:'page3',
component: page3,
meta: {
title: '内容第四章'  // 修改为合适的标题
}
},
{
path:'/about',
name:'About',
component: About,
meta: {
title: '关于我们'
}
},
]

const router = createRouter({
history: createWebHashHistory(),
routes
})
export default router

## 4. 更新页面服务
   在 src/services/pageService.js 中添加新页面信息：
   // src/services/pageService.js
   class PageService {
   constructor() {
   // 初始化默认页面
   this.pages = [
   // ... 其他页面
   {
   id: 'page3',
   title: '第四章',  // 修改为合适的标题
   path: '/page3',
   meta: {
   title: '内容第四章'  // 修改为合适的标题
   }
   }
   ];
   this.callbacks = [];
   }

    // ... 其他方法保持不变
}

## 5. 更新内容加载器
   在 src/services/contentLoader.js 中添加新的内容模块：
   // src/services/contentLoader.js
   class ContentLoader {
   async loadAllPageContents() {
   const pageContents = {};

        try {
            // 使用动态导入确保在构建时正确处理路径
            const modules = {
                '/': () => import('../utils/HomeContents.js'),
                '/page': () => import('../utils/page.js'),
                '/page1': () => import('../utils/page1.js'),
                '/page2': () => import('../utils/page2.js'),
                '/page3': () => import('../utils/page3.js')  // 添加这行
            };
            
            // ... 其余代码保持不变
        }
    }
}

## 6. 更新搜索服务中的页面标题映射
   在 src/services/searchService.js 中添加新页面的标题映射：
   // src/services/searchService.js
   getPageTitle(path) {
   const pageTitles = {
   '/': 'Web3 入门必看',
   '/page': 'Web3 内容第一章',
   '/page1': '内容第二章',
   '/page2': '内容第三章',
   '/page3': '内容第四章'  // 添加这行
   };
   return pageTitles[path] || '未知页面';
   }



## 常见问题

### 1. 页面不显示
- 检查路由配置是否正确
- 确认组件名称和路由名称一致
- 验证文件路径是否正确

### 2. 搜索不到内容
- 确认在 [onMounted](file://D:\web3_home\node_modules\@vue\runtime-core\dist\runtime-core.d.ts#L727-L727) 中调用了 `searchService.addContents`
- 检查内容文件是否正确导出

### 3. 样式问题
- 检查组件是否正确导入 `ContentPageTemplate`
- 确认内容中的HTML标签符合规范